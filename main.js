(()=>{"use strict";const e=document.querySelector("#taskContainer");class t{constructor(e,t,n){this.name=e,this.priority=t,this.dueDate=n}render(){let t=document.createElement("div"),n=document.createElement("button");n.classList.add("deleteTaskButton"),t.classList.add("taskFormatter");let o=document.createElement("div");o.setAttribute("id",this.name),o.classList.add("taskDesign");let s=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div");c.textContent=this.name,s.textContent=this.priority,l.textContent=this.dueDate,c.classList.add("detail2"),s.classList.add("detail1"),l.classList.add("detail1"),o.appendChild(c),o.appendChild(s),o.appendChild(l),n.innerHTML="X",e.appendChild(t),t.appendChild(n),n.addEventListener("click",this.delete),t.appendChild(o)}delete(e){let t=$(e.target).closest("button"),o=t.closest("div"),s=o.html();console.log(o),console.log(s);for(var c=0;c<r.tasks.length;c++)s.includes(r.tasks[c].name)&&(r.tasks.splice(c,1),console.log(r.tasks),t="",s="",n())}}function n(){e.innerHTML="";let t=r.tasks;console.log(r.tasks),t.forEach((e=>e.render()))}const o=document.querySelector("#projectsContainer");class s{constructor(e){this.name=e,this.tasks=[]}render(){let e=document.createElement("div"),t=document.createElement("button");t.classList.add("deleteProjectButton"),e.classList.add("projectFormatter");let n=this.name;t.innerHTML="X",e.innerHTML=n,o.appendChild(e),e.appendChild(t),t.addEventListener("click",this.delete),e.addEventListener("click",this.focus.bind(e)),console.log(l)}delete(e){let t=$(e.target).closest("button"),n=t.closest("div"),o=n.html();console.log(n),console.log(o);for(var s=0;s<l.length;s++)o.includes(l[s].name)&&(l.splice(s,1),console.log(l),t="",o="",c())}focus(){console.log(this),""!==d&&($(d).css("background-color","#8d99ae"),$(d).css("color","#edf2f4"),$(d).css("border","3px solid #2b2d42"),d="",r=""),d=this;let e=d.textContent;console.log(d),$(this).css("background-color","#2b2d42"),$(this).css("color","#edf2f4"),$(this).css("border","3px solid #d90429");for(var t=0;t<l.length;t++)e.includes(l[t].name)&&(r=l[t],console.log(r),n())}}function c(){o.innerHTML="",l.forEach((e=>e.render())),d=""}let l=[],d="",r="";const a=document.querySelector("#PI"),i=document.querySelector("#TI");let u=function(e){const t="string"==typeof e?e:document.querySelector("#projectInput").value;l.push(new s(t)),console.log(l),document.querySelector("#projectInput").value="",a.classList.add("hidden"),c()};const m=document.querySelector("#newProject"),h=document.querySelector("#projectSubmit"),p=document.querySelector("#projectCancel");m.addEventListener("click",(function(){a.classList.remove("hidden")})),h.addEventListener("click",u),p.addEventListener("click",(function(){document.querySelector("#projectInput").value="",a.classList.add("hidden")}));const k=document.querySelector("#newTask"),v=document.querySelector("#taskCancel"),L=document.querySelector("#taskSubmit");k.addEventListener("click",(function(){""!=r?i.classList.remove("hidden"):alert("Select a project before creating Tasks")})),L.addEventListener("click",(function(){const e=document.querySelector("#taskInput").value;console.log(e);const o=document.querySelector("#priorityLevel").value;console.log(o);const s=document.querySelector(".taskDate").value;console.log(s),console.log(r),r.tasks.push(new t(e,o,s)),console.log(r),document.querySelector("#taskInput").value="",i.classList.add("hidden"),n()})),v.addEventListener("click",(function(){document.querySelector("#taskInput").value="",i.classList.add("hidden")})),u("Example Project")})();